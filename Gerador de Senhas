import random
import string
import time


def limpar_tela():
    print("\n" * 50)


def cabecalho():
    print("=" * 40)
    print(" ğŸ” GERADOR DE SENHAS SEGURAS ğŸ”")
    print("=" * 40)


def gerar_senha(tamanho, usar_maiusculas, usar_numeros, usar_simbolos):
    caracteres = string.ascii_lowercase

    if usar_maiusculas:
        caracteres += string.ascii_uppercase
    if usar_numeros:
        caracteres += string.digits
    if usar_simbolos:
        caracteres += string.punctuation

    if not caracteres:
        return None

    senha = "".join(random.choice(caracteres) for _ in range(tamanho))
    return senha


def salvar_senha(senha):
    with open("senhas_geradas.txt", "a", encoding="utf-8") as arquivo:
        arquivo.write(senha + "\n")


def menu():
    while True:
        limpar_tela()
        cabecalho()
        print("1 - Gerar nova senha")
        print("2 - Sair")
        escolha = input("\nEscolha uma opÃ§Ã£o: ")

        if escolha == "1":
            try:
                tamanho = int(input("\nTamanho da senha (mÃ­n. 6): "))
                if tamanho < 6:
                    print("Senha muito curta!")
                    time.sleep(2)
                    continue

                usar_maiusculas = input(
                    "Usar letras MAIÃšSCULAS? (s/n): ").lower() == "s"
                usar_numeros = input("Usar nÃºmeros? (s/n): ").lower() == "s"
                usar_simbolos = input("Usar sÃ­mbolos? (s/n): ").lower() == "s"

                senha = gerar_senha(
                    tamanho,
                    usar_maiusculas,
                    usar_numeros,
                    usar_simbolos
                )

                if senha is None:
                    print("\nErro ao gerar senha.")
                else:
                    print(f"\nâœ… Senha gerada: {senha}")
                    salvar = input("Salvar senha em arquivo? (s/n): ").lower()
                    if salvar == "s":
                        salvar_senha(senha)
                        print("ğŸ’¾ Senha salva em 'senhas_geradas.txt'")

            except ValueError:
                print("\nDigite um nÃºmero vÃ¡lido!")

            input("\nPressione ENTER para continuar...")

        elif escolha == "2":
            print("\nSaindo... AtÃ© mais! ğŸ‘‹")
            break

        else:
            print("\nOpÃ§Ã£o invÃ¡lida!")
            time.sleep(1)


menu()
1
